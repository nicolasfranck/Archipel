---
database:
 core:
  class: "Catmandu::Store::Merge"
  args:
   patha: "../data/metadata.db"
   pathb: "../data/media.db"
 columns:
  class: "Catmandu::Store::Simple"
  args:
   path: "../data/columns.db"
 cart:
  class: "Catmandu::Store::Simple"
  args:
   path: "../data/snapshots.db"
index:
 core:
  class: "Catmandu::Index::Solr"
  args:
   url: "http://localhost:8983/solr/core0"
   id_field: "id"
all:
 allowed_range: "127.0.0.*"
 rooturl: "http://localhost"
 ip: "127.0.0.1"
 logfile: "/tmp/peepshow.log"
 captcha:
  public_key: "6Le1AscSAAAAAOx0zhOwFfpRsVg2aV7UP7nDMbsT"
  private_key: "6Le1AscSAAAAAC05iC30xJUA5gPovEsD0y-2yjjt"
middleware:
 openURL:
  path: "/OpenURL"
  resolve:
   version: "Z39.88-2004"
   path: "/resolve"
   rft_id:
    formats:
     - class: "Rft::Common"
       args: {}
     - class: "Rft::Fedora"
       args: {}
   acls:
    - class: "Acl::VPN"
      args:
       allowed_range: "127.0.0.*"
   context:
    Image:
     thumbnail:
      HandlingPackage: "PeepShow::Handler::Service::Image::Size"
     small:
      HandlingPackage: "PeepShow::Handler::Service::Image::Size"
     medium:
      HandlingPackage: "PeepShow::Handler::Service::Image::Size"
     large:
      HandlingPackage: "PeepShow::Handler::Service::Image::Size"
     zoomer:
      HandlingPackage: "PeepShow::Handler::Service::Image::IIP"
      Server: "/iip"
      Template: "tt/viewerIIP"
    Video:
     thumbnail:
      HandlingPackage: "PeepShow::Handler::Service::Image::Size"
     small:
      HandlingPackage: "PeepShow::Handler::Service::Image::Size"
     videolink:
      HandlingPackage: "PeepShow::Handler::Service::Video::Link"
      Template: "tt/videolink"
     videostreaming:
      HandlingPackage: "PeepShow::Handler::Service::Video::Streaming"
      Template: "tt/videostreaming"
  app:
   path: "/app"
   version: "Z39.88-2004"
   rft_id:
    formats:
     - class: "Rft::Full"
       args: {}
   types:
    carousel:
     HandlingPackage: "PeepShow::Handler::Service::Image::Carousel"
     Template: "tt/carousel"
     mapping:
      Image: "zoomer"
      Video: "videolink"
app:
 facet:
  index:
   default: "core"
 openURL:
  version: "Z39.88-2004"
  path: "/OpenURL/resolve"
  rft_id:
   formats:
    - class: "Rft::Common"
      args: {}
    - class: "Rft::Fedora"
      args: {}
  acls:
   - class: "Acl::VPN"
     args:
      allowed_range: "127.0.0.*"
 search:
  record:
   view:
    - simple
    - pages
  external_metadata_fields:
   - "title"
   - "author"   
  meercat_x_view: "http://search.ugent.be/meercat/x/view"
  min_results: 10
  max_results: 200
  pages_per_set: 8
  num_default: 20
  sort_fields:
   - "author_sort"
   - "title_sort"
   - "subject_sort"
 admin:
  desc:
   maxchars: 2000
  language:
   default: "nl"
  title:
   maxchars: 50
  auth:
   username: "admin"
   password: "00e151cb8fb01030c262b7c713933e7f"
 cart:
  default_service: "thumbnail"
  max: 30
  max_age: "30d"
  email:
   realfrom: "nicolas.franck@ugent.be"
   params:
    - smtp
    - localhost:25
templates:
 home: "tt/home"
 search: "tt/search/all"
 record_simple: "tt/search/record"
 record_pages: "tt/search/pages"
 mycart: "tt/mycart"
 googlemaps: "tt/googlemaps"
 columns: "tt/columns"
 new_column: "tt/new_column"
 sendmail_mycart: "tt/sendmail_mycart.tt"
 videostreaming_external: "tt/videostreaming/external"
language:
 default: "nl"
 en:
  context:
   Image: "image"
  record:
   header:
    key: "title"
    map: "title" 
    search: 1
   subfields:
    - key: "title"
      map: "title"
    - key: "author"
      map: "author"     
      search: 1
    - key: "publisher"
      map: "publisher" 
    - key: "contributor"
      map: "contributor"
    - key: "type"
      map: "type"
    - key: "format"
      map: "format"
    - key: "source"
      map: "source"
    - key: "language"
      map: "language"
    - key: "date"
      map: "date"  
    - key: "description"
      map: "description"  
    - key: "note"
      map: "note"
    - key: "subject"
      map: "subject" 
      search: 1
      subarray: 1
    - key: "location"
      map: "location"      
    - key: "rights"
      map: "rights"   
   sort_fields:
    - key: "author_sort"
      map: "author"
    - key: "title_sort"
      map: "title"
    - key: "subject_sort"
      map: "subject"
 nl:
  context:
   Image: "foto"
  record:
   header:
    key: "title"
    map: "titel"   
    search: 1
   subfields:
    - key: "title"
      map: "titel"
    - key: "author"
      map: "auteur"
      search: 1
    - key: "publisher"
      map: "uitgever"
    - key: "contributor"
      map: "medewerker"
    - key: "type"
      map: "type"
    - key: "format"
      map: "formaat"
    - key: "source"
      map: "bron"
    - key: "language"
      map: "taal"
    - key: "date"
      map: "datum"
    - key: "description"
      map: "beschrijving"
    - key: "note"
      map: "nota"
    - key: "subject"
      map: "onderwerp"
      search: 1
      subarray: 1
    - key: "location"
      map: "locatie"
    - key: "rights"
      map: "rechten"
   sort_fields:
    - key: "author_sort"
      map: "auteur"
    - key: "title_sort"
      map: "titel"
    - key: "subject_sort"
      map: "onderwerp"
xml:
 namespace:
  opensearch: "http://a9.com/-/spec/opensearch/1.1/"
  atom: "http://www.w3.org/2005/Atom"
  oai: "http://www.mediaspaces.info/vocab/oai-pmh.rdf#"
  owl: "http://www.w3.org/2002/07/owl#"
  rdf: "http://www.w3.org/1999/02/22-rdf-syntax-ns#"
  dcterms: "http://purl.org/dc/terms/"
  pf: "http://jena.hpl.hp.com/ARQ/property#"
package:
 Marc:
  Transformations:
   source: "Marc::XSLT::Source"
   mods: "Marc::XSLT::Mods"
   rdf: "Marc::XSLT::RDF"
   oai: "Marc::XSLT::OAI"
   srw: "Marc::XSLT::SRW"
 XML:
  RSS:
   namespaces:
    - prefix: "opensearch"
      uri: "http://a9.com/-/spec/opensearch/1.1/"
    - prefix: "atom"
      uri: "http://www.w3.org/2005/Atom"
 Record:
  View:
   default: "simple"
   simple: "Simple"
   pages: "Pages"
 Query:
  Store:
   simple:
    params:
     - "page"
     - "num"
    sess:
     - "num"
   advanced:
    params:
     - "page"
    sess: []
  Default:
   simple:
    params:
     page: 1
     num: 20
     sort: "score"
     sort_dir: "asc"
   advanced:
    params:
     page: 1
     num: 20
     sort: "score"
     sort_dir: "asc"
  Fixer:
   default: "Query::Fix::Simple"
   advanced: "Query::Fix::Advanced"
devs_order:
 Image:
  - thumbnail
  - small
  - medium
  - large
 Video:
  - thumbnail
  - small
  - medium
  - large
service_aggregate:
 carousel: 
  HandlingPackage: "PeepShow::Handler::Service::Image::Carousel"
  Template: "tt/carousel"
  mapping:
    Image: "zoomer"
    Video: "videolink"
service:
 aliases:
  zoomer_fullscreen: "zoomer"
context:
 Image:
  thumbnail:
   HandlingPackage: "PeepShow::Handler::Service::Image::Size"
  small:
   HandlingPackage: "PeepShow::Handler::Service::Image::Size"
  medium:
   HandlingPackage: "PeepShow::Handler::Service::Image::Size"
  large:
   HandlingPackage: "PeepShow::Handler::Service::Image::Size"
  zoomer:
   HandlingPackage: "PeepShow::Handler::Service::Image::IIP"
   Server: "/iip"
   Template: "tt/viewerIIP"
 Video:
  thumbnail:
   HandlingPackage: "PeepShow::Handler::Service::Image::Size"
  small:
   HandlingPackage: "PeepShow::Handler::Service::Image::Size"
  videolink:
   HandlingPackage: "PeepShow::Handler::Service::Video::Link"
   Template: "tt/videolink"
  videostreaming:
   HandlingPackage: "PeepShow::Handler::Service::Video::Streaming"
   Template: "tt/videostreaming"
# Doc:
#  viewer:
#   HandlingPackage: "PeepShow::Handler::Service::Doc::Google" 
#   Template: "tt/viewerGoogle"
#  thumbnail:
#   HandlingPackage: "PeepShow::Handler::Service::Image::Size"
#  small:
#   HandlingPackage: "PeepShow::Handler::Service::Image::Size"
